# Node Cleanup Webhook Configuration
# Copy this file to .env and customize for your environment

#======================================
# Webhook Configuration
#======================================
PORT=8443
TLS_CERT_FILE=/etc/webhook/certs/tls.crt
TLS_KEY_FILE=/etc/webhook/certs/tls.key

#======================================
# Kubernetes Client Configuration
#======================================
# Skip TLS verification when connecting to kube-apiserver
# ONLY use this in insecure/development environments
# NOT RECOMMENDED for production
INSECURE_SKIP_TLS_VERIFY=false

#======================================
# Plugin Configuration
#======================================
# Comma-separated list of enabled plugins
# Available plugins: logger, portworx
# You can add your own custom plugins - see pkg/plugins/ADDING_PLUGINS.md
ENABLED_PLUGINS=logger

#======================================
# Logger Plugin
#======================================
# Format: pretty or json
LOGGER_FORMAT=pretty
LOGGER_VERBOSITY=info

#======================================
# Portworx Plugin
#======================================
# Label selector to identify Portworx nodes
PORTWORX_LABEL_SELECTOR=px/enabled=true
# Portworx API endpoint
PORTWORX_API_ENDPOINT=http://portworx-api:9001
# Timeout for Portworx operations
PORTWORX_TIMEOUT=300s

#======================================
# Example Configurations
#======================================

# Minimal setup (just logging):
# ENABLED_PLUGINS=logger

# With Portworx cleanup:
# ENABLED_PLUGINS=logger,portworx

# Add your custom plugin:
# ENABLED_PLUGINS=logger,portworx,myservice
# MYSERVICE_API_ENDPOINT=http://my-api:8080
